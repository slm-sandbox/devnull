<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Tetris</title>
  <script type="text/javascript" src="/jquery.js"></script>
  <script type="text/javascript" src="/Tetris.coffee"></script>
  <script type="text/javascript" src="/socket.io/socket.io.js"></script>
  <style type="text/css">

    div {
      float: left;
      margin: 8px;
      text-align: center;
    }

    canvas {
      border: 8px solid black;
    }

  </style>
</head>
<body>

  <button id="join">Join</button>




  <script type="text/javascript">

    socket = io.connect();

    boards = [];

    socket.on('setup', function (data) {
      for(var i=0; i<data.length; i++) {
        boards.push(new Tetris(socket, i));
      }
    });

    socket.on('joined', function (data) {
      boards.push(new Tetris(socket, data));
    });

    $('#join').on('click', function () {
      $('#join').remove();
      boards.push(new Tetris(socket, null));
    });

  </script>

</body>
</html>